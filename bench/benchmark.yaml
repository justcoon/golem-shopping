---
base: 'https://golem-shopping.dev-api.golem.cloud'
iterations: 2
concurrency: 2
rampup: 2

plan:
#  - name: Create product, index {{ index }}
#    request:
#      url: /v1/product/{{ item.product-id }}
#      method: POST
#      body: '{ "name": "{{ item.name }}", "description": "{{ item.description }}" }'
#      headers:
#        Content-Type: 'application/json'
#        Accept: 'application/json'
#    with_items_from_csv:
#      file_name: ./fixtures/products.csv

#  - name: Create pricing, index {{ index }}
#    request:
#      url: /v1/pricing/{{ item.product-id }}
#      method: POST
#      body: '{{ item.body }}'
#      headers:
#        Content-Type: 'application/json'
#        Accept: 'application/json'
#    with_items_from_csv:
#      file_name: ./fixtures/prices.csv
#      quote_char: "\'"
  - name: GET product, index {{ index }}
    request:
      url: /v1/product/{{ item.product-id }}
      method: GET
      headers:
        Accept: 'application/json'
    with_items_from_csv:
      file_name: ./fixtures/products.csv
  - name: GET pricing, index {{ index }}
    request:
      url: /v1/pricing/{{ item.product-id }}
      method: GET
      headers:
        Accept: 'application/json'
    with_items_from_csv:
      file_name: ./fixtures/prices.csv
      quote_char: "\'"